# Compare-tf
*요약: TensorFlow의 각 실행 환경(플랫폼) 별 성능 차이 및 특성*

## 서론: DS/ML 플랫폼으로서의 JavaScript

JavaScript는 오늘날 가장 개발자수가 많은 커뮤니티를 갖고 있는 언어로, 웹 프론트엔드/백엔드나 각종 클라우드 서비스에서 많이 사용되는 언어이다. 개발자 수가 많은 만큼 npm에는 수많은 오픈소스 패키지가 있으나, 유독 데이터 과학과 기계 학습 부분에서는 아직 선택의 폭이 넓지 않다.

대표적으로 TensorFlow가 JavaScript를 지원하고 있으며 브라우저 및 Node.js 모두에서 기계 학습을 수행할 수 있지만 성능이 상대적으로 낮은 점이나 일부 기능을 지원하지 않는 등 단점을 보인다. 이외에 Synaptic, Brain.js 등 신경망 및 딥러닝에 특화된 라이브러리와 D3.js, Chart.js 등 데이터를 시각화하는 라이브러리가 많이 있으므로 기계 학습을 웹에서 서비스하고 client-side에서 계산 및 렌더링하는 경우에 유용할 것이다.

이러한 사전 조사를 바탕으로, TensorFlow.js와 시각화 라이브러리를 이용해 간단한 데이터 분석 및 시각화 서비스를 개발하고 가능하면 TensorFlow나 다른 Python 패키지와 성능을 비교해 보거나 여러가지 플랫폼에서 테스트해 보려고 한다.
  

  
### 프로젝트의 목적 및 방향성

해당 프로젝트는 우선 데이터 과학/기계학습을 JavaScript에서 효과적으로 수행할 수 있을까 하는 호기심에서 시작해서, 웹 기반 데이터 분석 서비스 개발을 경험해보는 것을 겸하여 JavaScript 프론트엔드로 데이터를 시각화하는 방법에 대한 탐구와 데이터를 분석하는 각 경우의 성능 차이의 비교를 목적으로 진행하고자 한다. 

또한 모바일 브라우저 등에서의 동작 또한 비교해서 얼마나 성능 차이가 발생하는지와 각 기기가 정상적으로 호환이 되는지 여부 등을 분석하고 어떤 경우가 서비스에 적합한지 평가할 것이다.


## 본론

해당 프로젝트를 계획하면서 먼저 어떤 서비스를 개발할지를 고민하게 되었는데, 가장 먼저 떠오른 건 사용자로부터 x, y에 대한 임의의 다항함수를 받아서 이 함수의 최적해를 구하는 것이었다. 그런데 최적해만으로는 시각화할 것이 별로 없기 때문에 여기에 함수의 선형 회귀도 함께 시각화하기로 했다.
  
  
### 설계

#### 프론트엔드

React.js를 기반으로 하여 간단한 사칙연산으로 나타낸 *f(x)* 함수를 입력으로 받아, 각 경우에 따라 데이터 분석을 직접 수행하거나 AJAX call을 통해 server에 요청을 하도록 한다. 데이터 분석 이후 얻은(전달받은) 정보를 통해 Chart.js로 함수 및 최적해, 선형 회귀를 시각화하고 실행 시간을 표기한다.



#### 백엔드

Express으로 각 API를 제공할 백엔드 서버를 구성하고, `/tensorflow/js`와 `/tensorflow/python`에의 요청을 각각 독립된 스크립트로 라우팅해서 실행하고, 결과와 실행 시간을 반환한다. python의 경우 child_process로 해당 스크립트를 실행한 다음 stdout으로 받은 실행 결과를 JSON으로 파싱해서 반환하도록 한다.



#### 데이터 분석

각 데이터 분석 스크립트에서는 요청의 *f(x)* 함수를 경사하강법을 통해 최적해를 분석하고, 최적해를 중심으로 한 일정 범위에 대해 선형 회귀를 구하고 이 범위에서의 *f(x)* 함수와 선형 회귀의 데이터셋과 최적해의 좌표를 JSON으로 반환한다. *f(x)* 는 간단하게 각 항의 계수만을 받아들여서 처리할 것이다.


### 개발 경과
![snap1](https://user-images.githubusercontent.com/40330524/119407278-fa3e7d80-bd1e-11eb-938b-fdef1b29fa96.png)  
[2021-05-25] 초기에 목표했던 기능은 구현했고, 여러 개의 서비스를 동시에 제공하기 위한 기반도 생긴 것 같다.
